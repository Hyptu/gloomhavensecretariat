"use strict";(self.webpackChunkgloomhavensecretariat=self.webpackChunkgloomhavensecretariat||[]).push([[305],{2305:(J,P,c)=>{c.r(P),c.d(P,{diagram:()=>G});var I=c(467),S=c(9379),E=c(8868),p=c(5414),R=c(8802),t=c(3675),U=c(9158);c(7374),c(2571),c(4024),c(8416),c(3386);const T=o=>t.e.sanitizeText(o,(0,t.c)());let D={dividerMargin:10,padding:5,textHeight:10,curve:void 0};const k=function(o,a,i,f,e){const _=Object.keys(o);t.l.info("keys:",_),t.l.info(o),_.filter(n=>o[n].parent==e).forEach(function(n){var r,d,l,u;const s=o[n],m=s.cssClasses.join(" "),v=(0,t.k)(s.styles),x=null!==(r=s.label)&&void 0!==r?r:s.id,h={labelStyle:v.labelStyle,shape:"class_box",labelText:T(x),classData:s,rx:0,ry:0,class:m,style:v.style,id:s.id,domId:s.domId,tooltip:f.db.getTooltip(s.id,e)||"",haveCallback:s.haveCallback,link:s.link,width:"group"===s.type?500:void 0,type:s.type,padding:null!==(d=null==(l=(0,t.c)().flowchart)?void 0:l.padding)&&void 0!==d?d:null==(u=(0,t.c)().class)?void 0:u.padding};a.setNode(s.id,h),e&&a.setParent(s.id,e),t.l.info("setNode",h)})};function w(o){let a;switch(o){case 0:a="aggregation";break;case 1:a="extension";break;case 2:a="composition";break;case 3:a="dependency";break;case 4:a="lollipop";break;default:a="none"}return a}const G={parser:E.p,db:E.d,renderer:{setConf:function(o){D=(0,S.A)((0,S.A)({},D),o)},draw:function(){var o=(0,I.A)(function*(a,i,f,e){var _,n,r,d;t.l.info("Drawing class - ",i);const l=null!==(_=(0,t.c)().flowchart)&&void 0!==_?_:(0,t.c)().class,u=(0,t.c)().securityLevel;t.l.info("config:",l);const s=null!==(n=null==l?void 0:l.nodeSpacing)&&void 0!==n?n:50,m=null!==(r=null==l?void 0:l.rankSpacing)&&void 0!==r?r:50,v=new R.T({multigraph:!0,compound:!0}).setGraph({rankdir:e.db.getDirection(),nodesep:s,ranksep:m,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),x=e.db.getNamespaces(),y=e.db.getClasses(),b=e.db.getRelations(),h=e.db.getNotes();let M;t.l.info(b),function(o,a,i,f){const e=Object.keys(o);t.l.info("keys:",e),t.l.info(o),e.forEach(function(_){var n,r,d;const l=o[_],s={shape:"rect",id:l.id,domId:l.domId,labelText:T(l.id),labelStyle:"",style:"fill: none; stroke: black",padding:null!==(n=null==(r=(0,t.c)().flowchart)?void 0:r.padding)&&void 0!==n?n:null==(d=(0,t.c)().class)?void 0:d.padding};a.setNode(l.id,s),k(l.classes,a,0,f,l.id),t.l.info("setNode",s)})}(x,v,0,e),k(y,v,0,e),function(o,a){const i=(0,t.c)().flowchart;let f=0;o.forEach(function(e){var _;f++;const n={classes:"relation",pattern:1==e.relation.lineType?"dashed":"solid",id:"id_".concat(e.id1,"_").concat(e.id2,"_").concat(f),arrowhead:"arrow_open"===e.type?"none":"normal",startLabelRight:"none"===e.relationTitle1?"":e.relationTitle1,endLabelLeft:"none"===e.relationTitle2?"":e.relationTitle2,arrowTypeStart:w(e.relation.type1),arrowTypeEnd:w(e.relation.type2),style:"fill:none",labelStyle:"",curve:(0,t.n)(null==i?void 0:i.curve,p.lUB)};if(t.l.info(n,e),void 0!==e.style){const d=(0,t.k)(e.style);n.style=d.style,n.labelStyle=d.labelStyle}var r;e.text=e.title,void 0===e.text?void 0!==e.style&&(n.arrowheadStyle="fill: #333"):(n.arrowheadStyle="fill: #333",n.labelpos="c",(null!==(r=null==(_=(0,t.c)().flowchart)?void 0:_.htmlLabels)&&void 0!==r?r:(0,t.c)().htmlLabels)?(n.labelType="html",n.label='<span class="edgeLabel">'+e.text+"</span>"):(n.labelType="text",n.label=e.text.replace(t.e.lineBreakRegex,"\n"),void 0===e.style&&(n.style=n.style||"stroke: #333; stroke-width: 1.5px;fill:none"),n.labelStyle=n.labelStyle.replace("color:","fill:"))),a.setEdge(e.id1,e.id2,n,f)})}(b,v),function(o,a,i,f){t.l.info(o),o.forEach(function(e,_){var n,r,d;const l=e,y={labelStyle:"",shape:"note",labelText:T(l.text),noteData:l,rx:0,ry:0,class:"",style:"",id:l.id,domId:l.id,tooltip:"",type:"note",padding:null!==(n=null==(r=(0,t.c)().flowchart)?void 0:r.padding)&&void 0!==n?n:null==(d=(0,t.c)().class)?void 0:d.padding};if(a.setNode(l.id,y),t.l.info("setNode",y),!l.class||!(l.class in f))return;const b=i+_,h={id:"edgeNote".concat(b),classes:"relation",pattern:"dotted",arrowhead:"none",startLabelRight:"",endLabelLeft:"",arrowTypeStart:"none",arrowTypeEnd:"none",style:"fill:none",labelStyle:"",curve:(0,t.n)(D.curve,p.lUB)};a.setEdge(l.id,l.class,h,b)})}(h,v,b.length+1,y),"sandbox"===u&&(M=(0,p.Ltv)("#i"+i));const A=(0,p.Ltv)("sandbox"===u?M.nodes()[0].contentDocument.body:"body"),C=A.select('[id="'.concat(i,'"]')),H=A.select("#"+i+" g");if(yield(0,U.r)(H,v,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",i),t.u.insertTitle(C,"classTitleText",null!==(d=null==l?void 0:l.titleTopMargin)&&void 0!==d?d:5,e.db.getDiagramTitle()),(0,t.o)(v,C,null==l?void 0:l.diagramPadding,null==l?void 0:l.useMaxWidth),null==l||!l.htmlLabels){const O="sandbox"===u?M.nodes()[0].contentDocument:document,F=O.querySelectorAll('[id="'+i+'"] .edgeLabel .label');for(const L of F){const B=L.getBBox(),g=O.createElementNS("http://www.w3.org/2000/svg","rect");g.setAttribute("rx",0),g.setAttribute("ry",0),g.setAttribute("width",B.width),g.setAttribute("height",B.height),L.insertBefore(g,L.firstChild)}}});return function(i,f,e,_){return o.apply(this,arguments)}}()},styles:E.s,init:o=>{o.class||(o.class={}),o.class.arrowMarkerAbsolute=o.arrowMarkerAbsolute,E.d.clear()}}}}]);